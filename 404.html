---
permalink: /404.html
layout: default
---
<style type="text/css" media="screen">
  .container {
    margin: 10px auto;
    max-width: 600px;
    text-align: center;
  }
  h1 {
    margin: 30px 0;
    font-size: 4em;
    line-height: 1;
    letter-spacing: -1px;
  }
</style>

<div class="container">
  <h1>404</h1>

  <p><strong>Page not found :(</strong></p>
  <p>The requested page could not be found.</p>
</div>

<script>
  (function() {
      var knownURLs = [
          {% for post in site.posts %}
          '{{ post.url }}',
          {% endfor %}
      ];

      var currentURL = window.location.href;

      console.log(knownURLs);
      console.log(currentURL);

      var domainAndProtocolRemoved = currentURL.replace(/^[^:]+:\/\/[^\/]+/, '');
      var modifiedCurrentURL = domainAndProtocolRemoved.replace(/\/\d{1,4}\/\d{1,2}\/\d{1,2}\//g, '');

      console.log(modifiedCurrentURL);
      var targetURL = null;
      for (var i = 0; i < knownURLs.length; i++) {
          if (knownURLs[i].endsWith(modifiedCurrentURL)) {
              targetURL = knownURLs[i];
              break;
          }
      }
      if (targetURL !== null) {
          window.location.href = targetURL;
      }
  })();
</script>
